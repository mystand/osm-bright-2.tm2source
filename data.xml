<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE Map[]>
<Map srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">

<Parameters>
  <Parameter name="center">131.8744,43.1178,14</Parameter>
  <Parameter name="description"><![CDATA[OSM Bright 2]]></Parameter>
  <Parameter name="format">pbf</Parameter>
  <Parameter name="json"><![CDATA[{"vector_layers":[{"id":"landuse","description":"","fields":{"osm_id":"Number","type":"String","area":"Number","class":"String"}},{"id":"waterway","description":"","fields":{"osm_id":"Number","class":"String"}},{"id":"water","description":"","fields":{}},{"id":"aeroway","description":"","fields":{"osm_id":"Number","type":"String"}},{"id":"building","description":"","fields":{"osm_id":"Number","type":"String","name":"String","area":"Number"}},{"id":"landuse_overlay","description":"","fields":{"osm_id":"Number","type":"String","class":"String"}},{"id":"tunnel","description":"","fields":{"osm_id":"Number","type":"String","bridge":"Number","access":"String","render":"String","layer":"Number","tunnel":"Number","class":"String"}},{"id":"road","description":"","fields":{"osm_id":"Number","type":"String","tunnel":"Number","bridge":"Number","access":"String","render":"String","class":"String"}},{"id":"bridge","description":"","fields":{"osm_id":"Number","type":"String","bridge":"Number","access":"String","render":"String","layer":"Number","tunnel":"Number","class":"String"}},{"id":"admin","description":"","fields":{"osm_id":"Number","admin_level":"Number","maritime":"Number","disputed":"Number"}},{"id":"country_label","description":"","fields":{"osm_id":"Number","name":"String","type":"String"}},{"id":"place_label","description":"","fields":{"osm_id":"Number","name":"String","type":"String"}},{"id":"road_label","description":"","fields":{"osm_id":"Number","name":"String","ref":"String","class":"String"}}]}]]></Parameter>
  <Parameter name="maxzoom">14</Parameter>
  <Parameter name="minzoom">0</Parameter>
  <Parameter name="name"><![CDATA[OSM Bright 2]]></Parameter>
</Parameters>


<Layer name="landuse"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[osm_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT * FROM (
    -- landuse_gen0
    SELECT geometry, osm_id, type, area,
    CASE
      WHEN type IN ('cemetery') THEN 'cemetery'
      WHEN type IN ('hospital') THEN 'hospital'
      WHEN type IN ('industrial') THEN 'industrial'
      WHEN type IN ('park', 'common', 'garden', 'playground') THEN 'park'
      WHEN type IN ('parking') THEN 'parking'
      WHEN type IN ('pitch') THEN 'pitch'
      WHEN type IN ('sand') THEN 'sand'
      WHEN type IN ('school', 'university') THEN 'school'
      WHEN type IN ('wood') THEN 'wood'
      ELSE 'other' END AS class
    FROM osm_landusages_gen0
    WHERE geometry && !bbox!
      AND z(!scale_denominator!) BETWEEN 4 AND 9

    -- landuse_gen1
    UNION ALL
    SELECT geometry, osm_id, type, area,
    CASE
      WHEN type IN ('cemetery') THEN 'cemetery'
      WHEN type IN ('hospital') THEN 'hospital'
      WHEN type IN ('industrial') THEN 'industrial'
      WHEN type IN ('park', 'common', 'garden', 'playground') THEN 'park'
      WHEN type IN ('parking') THEN 'parking'
      WHEN type IN ('pitch') THEN 'pitch'
      WHEN type IN ('sand') THEN 'sand'
      WHEN type IN ('school', 'university') THEN 'school'
      WHEN type IN ('wood') THEN 'wood'
      ELSE 'other' END AS class
    FROM osm_landusages_gen1
    WHERE geometry && !bbox!
      AND z(!scale_denominator!) BETWEEN 10 AND 12

    -- landuse
    UNION ALL
    SELECT geometry, osm_id, type, area,
    CASE
      WHEN type IN ('cemetery') THEN 'cemetery'
      WHEN type IN ('hospital') THEN 'hospital'
      WHEN type IN ('industrial') THEN 'industrial'
      WHEN type IN ('park', 'common', 'garden', 'playground') THEN 'park'
      WHEN type IN ('parking') THEN 'parking'
      WHEN type IN ('pitch') THEN 'pitch'
      WHEN type IN ('sand') THEN 'sand'
      WHEN type IN ('school', 'university') THEN 'school'
      WHEN type IN ('wood') THEN 'wood'
      ELSE 'other' END AS class
    FROM osm_landusages
    WHERE geometry && !bbox!
      AND z(!scale_denominator!) > 12
  ) AS QUERY
 ORDER BY area DESC
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="waterway"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[osm_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT * FROM (
    -- waterway_low
    SELECT geometry, osm_id, type as class
    FROM osm_waterways
    WHERE geometry && !bbox!
      AND type IN ('river', 'canal')
      AND z(!scale_denominator!) BETWEEN 8 AND 12

    -- waterway_med
    UNION ALL
    SELECT geometry, osm_id, type as class
    FROM osm_waterways
    WHERE geometry && !bbox!
      AND type IN ('river', 'canal', 'stream')
      AND z(!scale_denominator!) BETWEEN 13 AND 14

    -- waterway_high
    UNION ALL
    SELECT geometry, osm_id, type as class
    FROM osm_waterways
    WHERE geometry && !bbox!
      AND type IN ('river', 'canal', 'stream', 'ditch', 'drain')
      AND z(!scale_denominator!) > 14
  ) AS QUERY
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="water"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT * FROM (
    -- water_polygons
    SELECT geom as geometry
    FROM water
    WHERE geom && !bbox!

    -- water_gen0
    UNION ALL
    SELECT geometry
    FROM osm_waterareas
    WHERE geometry && !bbox!
      AND area > 10000
      AND z(!scale_denominator!) BETWEEN 3 AND 9

    -- water_gen1
    UNION ALL
    SELECT geometry
    FROM osm_waterareas
    WHERE geometry && !bbox!
      AND area > 1000
      AND z(!scale_denominator!) BETWEEN 9 AND 12
  
    -- water
    UNION ALL
    SELECT geometry
    FROM osm_waterareas
    WHERE geometry && !bbox!
      AND z(!scale_denominator!) > 12
  ) AS QUERY
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="aeroway"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, type
  FROM osm_aeroways
  WHERE geometry && !bbox!
    AND z(!scale_denominator!) >= 12
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="building"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[osm_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, type, name, area
    FROM osm_buildings
    WHERE geometry && !bbox!
      AND z(!scale_denominator!) >= 12
    ORDER BY ST_YMin(ST_Envelope(geometry)) DESC
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="landuse_overlay"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[osm_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, type,
    CASE
      WHEN type IN ('cemetery') THEN 'cemetery'
      WHEN type IN ('hospital') THEN 'hospital'
      WHEN type IN ('industrial') THEN 'industrial'
      WHEN type IN ('park', 'common', 'garden', 'playground') THEN 'park'
      WHEN type IN ('parking') THEN 'parking'
      WHEN type IN ('pitch') THEN 'pitch'
      WHEN type IN ('sand') THEN 'sand'
      WHEN type IN ('school', 'university') THEN 'school'
      WHEN type IN ('wood') THEN 'wood'
      ELSE 'other' END AS class
    FROM osm_landusages
    WHERE geometry && !bbox!
      AND z(!scale_denominator!) > 6
    ORDER BY area DESC
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="tunnel"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[osm_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, type, 0 as bridge, access, render, layer, tunnel,
  CASE
    WHEN type IN ('motorway', 'trunk') THEN 'motorway'
    WHEN type IN ('primary', 'secondary', 'tertiary') THEN 'main'
    WHEN type IN ('motorway_link', 'trunk_link', 'primary_link', 'tertiary_link') THEN 'motorway_link'
    WHEN type IN ('secondary_link', 'residential', 'unclassified', 'road') THEN 'street'
    WHEN type IN ('living_street', 'pedestrian') THEN 'street_limited'        
    WHEN type IN ('service', 'track') THEN 'service'
    WHEN type IN ('path', 'cycleway', 'footway', 'steps', 'bridleway') THEN 'path'
    WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'major_rail'
    ELSE 'other' END AS class
  FROM (
    SELECT *, '1_outline' AS render FROM osm_roads
    WHERE geometry && !bbox!
      AND tunnel = 1
    UNION ALL
    SELECT *, '2_line' AS render FROM osm_roads
    WHERE geometry && !bbox!
      AND tunnel = 1
    UNION ALL
    SELECT *, '3_inline' AS render FROM osm_roads
    WHERE geometry && !bbox!
      AND tunnel = 1
  ) AS tunnels
  WHERE z(!scale_denominator!) > 10
  ORDER BY layer ASC, render ASC
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="road"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[osm_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT * FROM (
    -- roads_low
    SELECT geometry, osm_id, type, tunnel, bridge, access, 'fill' AS render,
      CASE
        WHEN type IN ('motorway', 'trunk') THEN 'motorway'
        WHEN type IN ('primary', 'secondary', 'tertiary') THEN 'main'
        WHEN type IN ('motorway_link', 'trunk_link') THEN 'motorway_link'
        WHEN type IN ('primary_link', 'secondary_link', 'tertiary_link', 'residential', 'unclassified', 'road') THEN 'street'
        WHEN type IN ('living_street', 'pedestrian') THEN 'street_limited'        
        WHEN type IN ('service', 'track') THEN 'service'
        WHEN type IN ('path', 'cycleway', 'footway', 'steps', 'bridleway') THEN 'path'
        WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'major_rail'
        ELSE 'other' END AS class
    FROM osm_roads_gen0
    WHERE geometry && !bbox!
      AND z(!scale_denominator!) BETWEEN 5 AND 8

    -- roads_med
    UNION ALL  
    SELECT geometry, osm_id, type, tunnel, bridge, access, 'fill' AS render,
      CASE
        WHEN type IN ('motorway', 'trunk') THEN 'motorway'
        WHEN type IN ('primary', 'secondary', 'tertiary') THEN 'main'
        WHEN type IN ('motorway_link', 'trunk_link') THEN 'motorway_link'
        WHEN type IN ('primary_link', 'secondary_link', 'tertiary_link', 'residential', 'unclassified', 'road') THEN 'street'
        WHEN type IN ('living_street', 'pedestrian') THEN 'street_limited'        
        WHEN type IN ('service', 'track') THEN 'service'
        WHEN type IN ('path', 'cycleway', 'footway', 'steps', 'bridleway') THEN 'path'
        WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'major_rail'
        ELSE 'other' END AS class
    FROM osm_roads_gen1
    WHERE geometry && !bbox!
      AND type IN ('motorway', 'trunk', 'primary', 'secondary', 'motorway_link', 'trunk_link')
      AND z(!scale_denominator!) BETWEEN 9 AND 10
  
    -- roads_high
    UNION ALL
    SELECT geometry, osm_id, type, tunnel, bridge, access, 'fill' AS render,
      CASE
        WHEN type IN ('motorway', 'trunk') THEN 'motorway'
        WHEN type IN ('primary', 'secondary', 'tertiary') THEN 'main'
        WHEN type IN ('motorway_link', 'trunk_link') THEN 'motorway_link'
        WHEN type IN ('primary_link', 'secondary_link', 'tertiary_link', 'residential', 'unclassified', 'road') THEN 'street'
        WHEN type IN ('living_street', 'pedestrian') THEN 'street_limited'        
        WHEN type IN ('service', 'track') THEN 'service'
        WHEN type IN ('path', 'cycleway', 'footway', 'steps', 'bridleway') THEN 'path'
        WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'major_rail'
        ELSE 'other' END AS class
    FROM osm_roads
    WHERE geometry && !bbox!
      AND bridge = 0
      AND tunnel = 0
      AND z(!scale_denominator!) > 10
  ) AS QUERY
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="bridge"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[osm_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, type, bridge, access, render, layer, 0 as tunnel,
  CASE
    WHEN type IN ('motorway', 'trunk') THEN 'motorway'
    WHEN type IN ('primary', 'secondary', 'tertiary') THEN 'main'
    WHEN type IN ('motorway_link', 'trunk_link', 'primary_link', 'tertiary_link') THEN 'motorway_link'
    WHEN type IN ('secondary_link', 'residential', 'unclassified', 'road') THEN 'street'
    WHEN type IN ('living_street', 'pedestrian') THEN 'street_limited'        
    WHEN type IN ('service', 'track') THEN 'service'
    WHEN type IN ('path', 'cycleway', 'footway', 'steps', 'bridleway') THEN 'path'
    WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'major_rail'
    ELSE 'other' END AS class
  FROM (
    SELECT *, '1_outline' AS render FROM osm_roads
    WHERE geometry && !bbox!
      AND bridge = 1
    UNION ALL
    SELECT *, '2_line' AS render FROM osm_roads
    WHERE geometry && !bbox!
      AND bridge = 1
    UNION ALL
    SELECT *, '3_inline' AS render FROM osm_roads
    WHERE geometry && !bbox!
      AND bridge = 1
  ) as bridges
  WHERE z(!scale_denominator!) > 10
  ORDER BY layer ASC, render ASC
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="admin"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geom]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT * FROM (
    -- osm_boundaries_gen0
    SELECT geom, osm_id, admin_level, maritime, disputed
    FROM osm_boundaries_gen0
    WHERE geom && !bbox!
      AND admin_level < 3
      AND z(!scale_denominator!) BETWEEN 1 AND 6

    -- osm_boundaries_gen0
    UNION ALL
    SELECT geom, osm_id, admin_level, maritime, disputed
    FROM osm_boundaries_gen0
    WHERE geom && !bbox!
      AND z(!scale_denominator!) BETWEEN 7 AND 9
  
    -- osm_boundaries_gen1
    UNION ALL
    SELECT geom as geometry, osm_id, admin_level, maritime, disputed
    FROM osm_boundaries_gen1
    WHERE geom && !bbox!
      AND z(!scale_denominator!) BETWEEN 10 AND 12

    -- osm_boundaries
    UNION ALL
    SELECT geom, osm_id, admin_level, maritime, disputed
    FROM osm_boundaries
    WHERE geom && !bbox!
      AND z(!scale_denominator!) > 12
  ) AS QUERY
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="country_label"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, name, type
  FROM osm_places
  WHERE geometry && !bbox!
    AND type = 'country'
    AND z(!scale_denominator!) BETWEEN 1 AND 6
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="place_label"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, name, type
  FROM osm_places
  WHERE geometry && !bbox!
    AND type IN ('city', 'town', 'village', 'hamlet')
    AND z(!scale_denominator!) >= 4
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="road_label"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[osm]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[]]></Parameter>
       <Parameter name="host"><![CDATA[]]></Parameter>
       <Parameter name="key_field"><![CDATA[]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[]]></Parameter>
       <Parameter name="port"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( SELECT geometry, osm_id, name, ref, type as class
  FROM osm_roads
  WHERE geometry && !bbox!
    AND z(!scale_denominator!) >= 15
) AS data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[]]></Parameter>
    </Datasource>
  </Layer>

</Map>