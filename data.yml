_prefs: 
  disabled: []
  inspector: false
  mapid: ''
  rev: ''
  saveCenter: true
attribution: ''
center: 
  - 131.8905
  - 43.1225
  - 14
description: OSM Bright 2
Layer: 
  - id: landuse
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: osm_id
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT * FROM (
            -- landuse_gen0
            SELECT geometry, osm_id, type as class, area
            FROM osm_landusages_gen0
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) BETWEEN 4 AND 9
        
            -- landuse_gen1
            UNION ALL
            SELECT geometry, osm_id, type as class, area
            FROM osm_landusages_gen1
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) BETWEEN 10 AND 12
        
            -- landuse
            UNION ALL
            SELECT geometry, osm_id, type as class, area
            FROM osm_landusages
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) >= 12
          ) AS QUERY
         ORDER BY area DESC
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: 
      area: Number
      class: String
      osm_id: Number
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: waterway
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: osm_id
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT * FROM (
            -- waterway_low
            SELECT geometry, osm_id, type as class
            FROM osm_waterways
            WHERE geometry && !bbox!
              AND type IN ('river', 'canal')
              AND z(!scale_denominator!) BETWEEN 8 AND 12
        
            -- waterway_med
            UNION ALL
            SELECT geometry, osm_id, type as class
            FROM osm_waterways
            WHERE geometry && !bbox!
              AND type IN ('river', 'canal', 'stream')
              AND z(!scale_denominator!) BETWEEN 13 AND 14
        
            -- waterway_high
            UNION ALL
            SELECT geometry, osm_id, type as class
            FROM osm_waterways
            WHERE geometry && !bbox!
              AND type IN ('river', 'canal', 'stream', 'ditch', 'drain')
              AND z(!scale_denominator!) >= 15
          ) AS QUERY
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: 
      class: String
      osm_id: Number
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: water
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: ''
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT * FROM (
            -- water_polygons
            SELECT geom as geometry
            FROM water
            WHERE geom && !bbox!
        
            -- water_gen0
            UNION ALL
            SELECT geometry
            FROM osm_waterareas
            WHERE geometry && !bbox!
              AND area > 10000
              AND z(!scale_denominator!) BETWEEN 3 AND 9
        
            -- water_gen1
            UNION ALL
            SELECT geometry
            FROM osm_waterareas
            WHERE geometry && !bbox!
              AND area > 1000
              AND z(!scale_denominator!) BETWEEN 9 AND 12
          
            -- water
            UNION ALL
            SELECT geometry
            FROM osm_waterareas
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) > 12
          ) AS QUERY
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: {}
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: aeroway
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: ''
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT geometry, osm_id, type
          FROM osm_aeroways
          WHERE geometry && !bbox!
            AND z(!scale_denominator!) >= 12
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: 
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: building
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: osm_id
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT geometry, osm_id, type, name, area
            FROM osm_buildings
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) >= 12
            ORDER BY ST_YMin(ST_Envelope(geometry)) DESC
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: 
      area: Number
      name: String
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: landuse_overlay
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: osm_id
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT geometry, osm_id, type, round(st_area(geometry)) as area
            FROM osm_landusages
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) > 6
            ORDER BY area DESC
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: 
      area: Number
      osm_id: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: tunnel
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: osm_id
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT geometry, osm_id, type, 0 as bridge, access, render, layer, tunnel,
          CASE
            WHEN type IN ('motorway', 'trunk') THEN 'motorway'
            WHEN type IN ('primary', 'secondary') THEN 'mainroad'
            WHEN type IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'unclassified', 'road', 'living_street') THEN 'minorroad'
            WHEN type IN ('service', 'track') THEN 'service'
            WHEN type IN ('path', 'cycleway', 'footway', 'pedestrian', 'steps', 'bridleway') THEN 'noauto'
            WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'railway'
            ELSE 'other' END AS stylegroup
          FROM (
            SELECT *, '1_outline' AS render FROM osm_roads
            WHERE geometry && !bbox!
              AND tunnel = 1
            UNION ALL
            SELECT *, '2_line' AS render FROM osm_roads
            WHERE geometry && !bbox!
              AND tunnel = 1
            UNION ALL
            SELECT *, '3_inline' AS render FROM osm_roads
            WHERE geometry && !bbox!
              AND tunnel = 1
          ) AS tunnels
          WHERE z(!scale_denominator!) >= 11
          ORDER BY layer ASC, render ASC
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: 
      access: String
      bridge: Number
      layer: Number
      osm_id: Number
      render: String
      stylegroup: String
      tunnel: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: road
    Datasource: 
      dbname: osm
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geometry
      geometry_table: ''
      host: ''
      key_field: osm_id
      max_size: 512
      password: ''
      port: ''
      table: |-
        ( SELECT * FROM (
            -- roads_low
            SELECT geometry, osm_id, type, tunnel, bridge, access, 'fill' AS render,
              CASE
                WHEN type IN ('motorway', 'trunk') THEN 'motorway'
                WHEN type IN ('primary', 'secondary') THEN 'mainroad'
                WHEN type IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'unclassified', 'road', 'living_street') THEN 'minorroad'
                WHEN type IN ('service', 'track') THEN 'service'
                WHEN type IN ('path', 'cycleway', 'footway', 'pedestrian', 'steps', 'bridleway') THEN 'noauto'
                WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'railway'
                ELSE 'other' END AS class
            FROM osm_roads_gen0
            WHERE geometry && !bbox!
              AND z(!scale_denominator!) BETWEEN 5 AND 8
        
            -- roads_med
            UNION ALL  
            SELECT geometry, osm_id, type, tunnel, bridge, access, 'fill' AS render,
              CASE
                WHEN type IN ('motorway', 'trunk') THEN 'motorway'
                WHEN type IN ('primary', 'secondary') THEN 'mainroad'
                WHEN type IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'unclassified', 'road', 'living_street') THEN 'minorroad'
                WHEN type IN ('service', 'track') THEN 'service'
                WHEN type IN ('path', 'cycleway', 'footway', 'pedestrian', 'steps', 'bridleway') THEN 'noauto'
                WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'railway'
                ELSE 'other' END AS class
            FROM osm_roads_gen1
            WHERE geometry && !bbox!
              AND type IN ('motorway', 'trunk', 'primary', 'secondary', 'motorway_link', 'trunk_link')
              AND z(!scale_denominator!) BETWEEN 9 AND 10
          
            -- roads_high
            UNION ALL
            SELECT geometry, osm_id, type, tunnel, bridge, access, 'fill' AS render,
              CASE
                WHEN type IN ('motorway', 'trunk') THEN 'motorway'
                WHEN type IN ('primary', 'secondary') THEN 'mainroad'
                WHEN type IN ('motorway_link', 'trunk_link', 'primary_link', 'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'unclassified', 'road', 'living_street') THEN 'minorroad'
                WHEN type IN ('service', 'track') THEN 'service'
                WHEN type IN ('path', 'cycleway', 'footway', 'pedestrian', 'steps', 'bridleway') THEN 'noauto'
                WHEN type IN ('light_rail', 'subway', 'narrow_gauge', 'rail', 'tram') THEN 'railway'
                ELSE 'other' END AS class
            FROM osm_roads
            WHERE geometry && !bbox!
              AND bridge = 0
              AND tunnel = 0
              AND z(!scale_denominator!) >= 11
          ) AS QUERY
        ) AS data
      type: postgis
      user: ''
    description: ''
    fields: 
      access: String
      bridge: Number
      class: String
      osm_id: Number
      render: String
      tunnel: Number
      type: String
    properties: 
      "buffer-size": 8
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
maxzoom: 14
minzoom: 0
name: OSM Bright 2
